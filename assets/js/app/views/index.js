// Generated by CoffeeScript 1.6.2
(function() {
  define(['backbone'], function(Backbone) {
    var IndexView;

    return IndexView = Backbone.View.extend({
      initialize: function() {
        _.bindAll(this);
        return this.getInstagram();
      },
      getInstagram: function() {
        $.ajax({
          type: 'GET',
          dataType: 'jsonp',
          url: "https://api.instagram.com/v1/users/20755768/media/recent/?access_token=20755768.06f8ba8.b52717186035436bac737b48cada2829&count=50",
          success: this.haveInstagramData
        });
      },
      instagramTemplate: _.template("<div class=\"instagram\">\n	<img src=\"<%= images.standard_resolution.url %>\" />\n	<% if(caption){ %>\n		<p><%= caption.text %></p>\n	<% } %>\n</div>"),
      haveInstagramData: function(data) {
        var _this = this;

        console.log('data', data);
        return _.each(this.$('.cell'), function(el, index) {
          var $el, gram;

          $el = $(el);
          gram = data.data[index];
          console.log(gram);
          return $el.append(_this.instagramTemplate(gram));
        });
      }
    });
  });

}).call(this);
